<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OHC Presentation â€” Demo to Win</title>
<link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;700;900&family=Red+Hat+Text:wght@400;500;700&family=Red+Hat+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --rh-red: #EE0000;
    --rh-red-dark: #A30000;
    --rh-black: #151515;
    --rh-white: #FFFFFF;
    --rh-gray-100: #F5F5F5;
    --rh-gray-200: #D2D2D2;
    --rh-gray-600: #6A6E73;
    --rh-gray-900: #1F1F1F;
    --sap-gold: #F0AB00;
    --sap-blue: #0070F2;
    --slide-transition: 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    --pulse: #00FF88;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Red Hat Display', sans-serif;
    background: var(--rh-black);
    color: var(--rh-white);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  /* â•â•â• NAV BAR â•â•â• */
  .nav {
    position: fixed; top: 0; left: 0; right: 0;
    height: 48px;
    background: rgba(21, 21, 21, 0.95);
    backdrop-filter: blur(12px);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 24px;
    z-index: 100;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }
  .nav-left { display: flex; align-items: center; gap: 12px; }
  .nav-brand {
    font-family: 'Red Hat Display', sans-serif;
    font-weight: 900; font-size: 13px; letter-spacing: 0.5px;
    color: var(--rh-red);
  }
  .nav-brand span { color: var(--rh-gray-200); font-weight: 400; }
  .nav-slide {
    font-family: 'Red Hat Mono', monospace;
    font-size: 12px; color: var(--rh-gray-600);
  }
  .nav-right { display: flex; align-items: center; gap: 16px; }
  .nav-counter {
    font-family: 'Red Hat Mono', monospace;
    font-size: 13px; font-weight: 700;
    color: var(--pulse);
    min-width: 32px; text-align: right;
  }
  .nav-counter-label {
    font-size: 10px; color: var(--rh-gray-600);
    text-transform: uppercase; letter-spacing: 1px;
  }

  /* â•â•â• SLIDES â•â•â• */
  .slide {
    position: absolute;
    top: 48px; left: 0; right: 0; bottom: 0;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    padding: 48px 64px;
    opacity: 0;
    transform: translateX(60px);
    transition: opacity var(--slide-transition), transform var(--slide-transition);
    pointer-events: none;
  }
  .slide.active {
    opacity: 1;
    transform: translateX(0);
    pointer-events: all;
  }

  /* â•â•â• TYPOGRAPHY â•â•â• */
  .hero-text {
    font-family: 'Red Hat Display', sans-serif;
    font-weight: 900;
    font-size: clamp(36px, 5vw, 72px);
    line-height: 1.05;
    text-align: center;
    max-width: 900px;
  }
  .hero-sub {
    font-family: 'Red Hat Text', sans-serif;
    font-weight: 400;
    font-size: clamp(16px, 2vw, 24px);
    line-height: 1.6;
    text-align: center;
    color: var(--rh-gray-200);
    max-width: 700px;
    margin-top: 24px;
  }
  .section-label {
    font-family: 'Red Hat Mono', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: var(--rh-red);
    margin-bottom: 16px;
  }
  .emphasis { color: var(--rh-red); }
  .emphasis-gold { color: var(--sap-gold); }
  .dim { color: var(--rh-gray-600); }
  .glow {
    text-shadow: 0 0 40px rgba(238, 0, 0, 0.3);
  }

  /* â•â•â• METAPHOR VISUAL â€” nervous system pulse â•â•â• */
  .nerve-line {
    position: absolute;
    width: 2px;
    background: linear-gradient(180deg, transparent, var(--rh-red), transparent);
    opacity: 0.08;
    animation: nerve-pulse 12s linear infinite;
    pointer-events: none;
    z-index: 0;
    will-change: opacity;
  }
  @keyframes nerve-pulse {
    0%, 100% { opacity: 0.04; }
    50% { opacity: 0.10; }
  }
  @media (prefers-reduced-motion: reduce) {
    .nerve-line { animation: none; opacity: 0.06; }
  }

  /* â•â•â• LIVE STATS GRID â•â•â• */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    max-width: 800px;
    width: 100%;
    margin-top: 32px;
  }
  .stat-card {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 12px;
    padding: 24px;
    text-align: center;
  }
  .stat-value {
    font-family: 'Red Hat Mono', monospace;
    font-size: 36px;
    font-weight: 700;
    color: var(--pulse);
  }
  .stat-label {
    font-family: 'Red Hat Text', sans-serif;
    font-size: 12px;
    color: var(--rh-gray-600);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 8px;
  }

  /* â•â•â• WIDE STATS ROW (slide 7) â•â•â• */
  .stats-wide {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 16px;
    max-width: 960px;
    width: 100%;
    margin-top: 24px;
  }
  .stat-wide {
    text-align: center;
    padding: 16px 8px;
  }
  .stat-wide .stat-value { font-size: 28px; }

  /* â•â•â• BULLET LIST (commercial slide) â•â•â• */
  .value-list {
    list-style: none;
    max-width: 700px;
    margin-top: 32px;
  }
  .value-list li {
    font-family: 'Red Hat Text', sans-serif;
    font-size: 18px;
    line-height: 1.6;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,0.06);
    display: flex;
    align-items: baseline;
    gap: 12px;
  }
  .value-list li:last-child { border-bottom: none; }
  .value-icon { font-size: 20px; flex-shrink: 0; }

  /* â•â•â• QR PLACEHOLDER â•â•â• */
  .qr-frame {
    width: 220px; height: 220px;
    background: var(--rh-white);
    border-radius: 16px;
    display: flex; align-items: center; justify-content: center;
    margin-top: 32px;
    padding: 16px;
  }
  .qr-frame canvas { width: 100%; height: 100%; }

  /* â•â•â• ARCHITECTURE EMBED â•â•â• */
  .arch-placeholder {
    max-width: 800px;
    width: 100%;
    aspect-ratio: 16/9;
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    margin-top: 24px;
    font-family: 'Red Hat Mono', monospace;
    font-size: 14px;
    color: var(--rh-gray-600);
  }

  /* â•â•â• CLOSE SLIDE â•â•â• */
  .close-cta {
    font-family: 'Red Hat Display', sans-serif;
    font-size: 14px;
    color: var(--rh-gray-600);
    margin-top: 24px;
  }
  .close-cta a {
    color: var(--rh-red);
    text-decoration: none;
  }

  /* â•â•â• PROGRESS BAR â•â•â• */
  .progress {
    position: fixed;
    bottom: 0; left: 0;
    height: 3px;
    background: var(--rh-red);
    transition: width 0.4s ease;
    z-index: 100;
  }

  /* â•â•â• KEYBOARD HINT â•â•â• */
  .key-hint {
    position: fixed;
    bottom: 16px; right: 24px;
    font-family: 'Red Hat Mono', monospace;
    font-size: 11px;
    color: var(--rh-gray-600);
    opacity: 0.5;
    z-index: 100;
  }
</style>
</head>
<body>

<!-- â•â•â• NAV â•â•â• -->
<div class="nav">
  <div class="nav-left">
    <div class="nav-brand">RED HAT<span> Ã— </span>SAP</div>
    <div class="nav-slide" id="slideNum">1 / 10</div>
  </div>
  <div class="nav-right">
    <div class="nav-counter" id="navCount">0</div>
    <div class="nav-counter-label">events</div>
  </div>
</div>

<!-- â•â•â• SLIDE 1 â€” LIMBIC OPENER â•â•â• -->
<div class="slide active" data-slide="1">
  <div class="section-label">Tell</div>
  <div class="hero-text glow">
    Your building has a <span class="emphasis">nervous system.</span>
  </div>
  <div class="hero-sub">
    Every badge tap is a heartbeat. Every door sensor, a reflex.<br>
    Every camera alert, a pain signal.<br><br>
    Right now, <span class="emphasis">nobody is listening.</span>
  </div>
</div>

<!-- â•â•â• SLIDE 2 â€” AMPLIFY THE PAIN â•â•â• -->
<div class="slide" data-slide="2">
  <div class="hero-text">
    3.2 billion nerve impulses a year.
  </div>
  <div class="hero-sub">
    That's how many badge events Fortune 500 facilities generate annually.<br><br>
    Every one is a data point about who is where, doing what, and whether something is wrong.<br><br>
    <span class="emphasis">Zero of them reach SAP.</span><br><br>
    <span class="dim">Your building is screaming. Your digital core is deaf.</span>
  </div>
</div>

<!-- â•â•â• SLIDE 3 â€” THE WHAT-IF (bridge) â•â•â• -->
<div class="slide" data-slide="3">
  <div class="section-label">The question</div>
  <div class="hero-text">
    What if you could <span class="emphasis-gold">wire the nervous system</span><br>
    to the brain?
  </div>
  <div class="hero-sub">
    Every badge tap, every door sensor, every camera alert â€”<br>
    flowing as a business event into <span class="emphasis-gold">SAP Business Technology Platform</span>.<br><br>
    Not a dashboard. Not a silo.<br>
    A closed-loop nervous system â€” <em>sensory input up, motor commands down.</em>
  </div>
</div>

<!-- â•â•â• SLIDE 4 â€” THE ARCHITECTURE (Tell before Show) â•â•â• -->
<div class="slide" data-slide="4">
  <div class="section-label">How it works</div>
  <div class="hero-text" style="font-size: clamp(28px, 3.5vw, 48px);">
    Edge â†’ <span class="emphasis">Red Hat OpenShift</span> â†’ <span class="emphasis-gold">SAP Edge Integration Cell</span> â†’ <span style="color:var(--sap-blue)">BTP</span>
  </div>
  <div class="hero-sub">
    The OpenShift cluster is running right now â€” live, not a mockup.<br>
    Next stop: <strong>SAP Edge Integration Cell</strong> wires it to BTP.
  </div>
  <div class="stats-grid" style="margin-top: 32px;">
    <div class="stat-card">
      <div class="stat-value" id="archCount">0</div>
      <div class="stat-label">Events Ingested</div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="archRate">0</div>
      <div class="stat-label">/sec</div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="archDevices">0</div>
      <div class="stat-label">Devices</div>
    </div>
  </div>
</div>

<!-- â•â•â• SLIDE 5 â€” THE HAND-OFF (you become the nerve ending) â•â•â• -->
<div class="slide" data-slide="5">
  <div class="section-label">Show</div>
  <div class="hero-text">
    Your phone is about to become<br>
    a <span class="emphasis">nerve ending.</span>
  </div>
  <div class="hero-sub">
    Scan the code. Badge through a building.<br>
    Every tap generates a CloudEvent â€” modeled on real <strong>Lenel OnGuard</strong> protocols.<br><br>
    Badge scans Â· Door sensors Â· HVAC Â· Fire safety Â· Biometrics Â· Air quality
  </div>
  <div class="qr-frame" id="qrContainer">
    <canvas id="qrCanvas"></canvas>
  </div>
</div>

<!-- â•â•â• SLIDE 6 â€” LIVE PROOF (the "Show") â•â•â• -->
<div class="slide" data-slide="6">
  <div class="section-label">Live â€” right now</div>
  <div class="hero-text" style="font-size: clamp(48px, 8vw, 96px);">
    <span id="bigCount" class="emphasis" style="font-family: 'Red Hat Mono', monospace;">0</span>
  </div>
  <div class="stats-wide">
    <div class="stat-wide">
      <div class="stat-value" id="liveRate">0</div>
      <div class="stat-label">events/sec</div>
    </div>
    <div class="stat-wide">
      <div class="stat-value" id="liveDevices">0</div>
      <div class="stat-label">devices</div>
    </div>
    <div class="stat-wide">
      <div class="stat-value" id="livePeak">0</div>
      <div class="stat-label">peak/sec</div>
    </div>
    <div class="stat-wide">
      <div class="stat-value" id="liveBattery">â€”</div>
      <div class="stat-label">avg battery</div>
    </div>
    <div class="stat-wide">
      <div class="stat-value" id="liveNetworks">â€”</div>
      <div class="stat-label">network mix</div>
    </div>
    <div class="stat-wide">
      <div class="stat-value" id="liveLocales">â€”</div>
      <div class="stat-label">locales</div>
    </div>
  </div>
</div>

<!-- â•â•â• SLIDE 7 â€” THE "SO WHAT" (sensory â†’ motor) â•â•â• -->
<div class="slide" data-slide="7">
  <div class="section-label">Tell â€” the payoff</div>
  <div class="hero-text">
    You just wired<br>
    <span id="resultCount" class="emphasis" style="font-family: 'Red Hat Mono';">0</span>
    nerve impulses<br>
    to the brain.
  </div>
  <div class="hero-sub">
    Each event flowed through <strong>Red Hat OpenShift</strong>.<br>
    Next stop: <strong>SAP Edge Integration Cell</strong> â†’ <strong>BTP</strong>.<br><br>
    <span class="dim">Sensory input up. Motor commands down.</span><br>
    <span class="dim">That's a closed-loop nervous system.</span>
  </div>
</div>

<!-- â•â•â• SLIDE 8 â€” COMMERCIAL (what the brain unlocks) â•â•â• -->
<div class="slide" data-slide="8">
  <div class="section-label">What this means commercially</div>
  <div class="hero-text" style="font-size: clamp(24px, 3vw, 40px);">
    Every edge deal is a <span class="emphasis-gold">BTP deal.</span>
  </div>
  <ul class="value-list">
    <li><span class="value-icon">ğŸ“¦</span> <strong>Integration Suite</strong> â€” cloud quota, the license that connects the nerves</li>
    <li><span class="value-icon">âš¡</span> <strong>Event Mesh</strong> â€” consumption-based, scales with every new sensor</li>
    <li><span class="value-icon">ğŸ“Š</span> <strong>Analytics Cloud</strong> â€” the brain's visual cortex, named user licenses</li>
    <li><span class="value-icon">ğŸ¤–</span> <strong>AI Core</strong> â€” pattern recognition, inference, the autonomic layer</li>
    <li><span class="value-icon">ğŸ”§</span> <strong>Red Hat OpenShift</strong> â€” the spinal cord. We sell it. Not your quota.</li>
  </ul>
</div>

<!-- â•â•â• SLIDE 9 â€” THE CHALLENGE â•â•â• -->
<div class="slide" data-slide="9">
  <div class="hero-text">
    Your customer's building<br>
    is <span class="emphasis">already screaming.</span>
  </div>
  <div class="hero-sub">
    The badge readers are installed. The sensors are live. The cameras are rolling.<br><br>
    The only thing missing is the <span class="emphasis">spinal cord</span><br>
    that connects the body to the brain.<br><br>
    <strong>That's OpenShift. That's Edge Integration Cell. That's this demo.</strong>
  </div>
</div>

<!-- â•â•â• SLIDE 10 â€” CLOSE (callback to opener) â•â•â• -->
<div class="slide" data-slide="10">
  <div class="section-label">Let's build this</div>
  <div class="hero-text glow">
    Let's give your customer<br>
    a <span class="emphasis">nervous system.</span>
  </div>
  <div class="hero-sub" style="margin-top: 32px;">
    Jim O'Donnell Â· <a href="mailto:jodonnel@redhat.com" style="color: var(--rh-red); text-decoration: none;">jodonnel@redhat.com</a>
  </div>
  <div class="close-cta" style="margin-top: 48px;">
    Demo still live â†’ scan the QR if you haven't
  </div>
</div>

<!-- â•â•â• PROGRESS BAR â•â•â• -->
<div class="progress" id="progressBar" style="width: 10%;"></div>

<!-- â•â•â• KEYBOARD HINT â•â•â• -->
<div class="key-hint">â† â†’ or Space to navigate</div>

<!-- â•â•â• BACKGROUND NERVE LINES â•â•â• -->
<div class="nerve-line" style="left: 12%; top: 0; height: 100vh; animation-delay: 0s;"></div>
<div class="nerve-line" style="left: 37%; top: 0; height: 100vh; animation-delay: 1.1s;"></div>
<div class="nerve-line" style="left: 63%; top: 0; height: 100vh; animation-delay: 0.6s;"></div>
<div class="nerve-line" style="left: 88%; top: 0; height: 100vh; animation-delay: 1.8s;"></div>

<!-- â•â•â• QR LIB â•â•â• -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

<script>
(function () {
  'use strict';

  // â•â•â• CONFIG â•â•â•
  const BASE = location.origin;
  const TOTAL_SLIDES = 10;
  let current = 1;
  let count = 0;
  let devices = 0;
  let peakRate = 0;
  let rateWindow = [];

  // â•â•â• ELEMENTS â•â•â•
  const $ = id => document.getElementById(id);

  // â•â•â• SLIDE NAVIGATION â•â•â•
  function goTo(n) {
    if (n < 1 || n > TOTAL_SLIDES) return;
    document.querySelector('.slide.active')?.classList.remove('active');
    document.querySelector(`[data-slide="${n}"]`)?.classList.add('active');
    current = n;
    $('slideNum').textContent = `${n} / ${TOTAL_SLIDES}`;
    $('progressBar').style.width = `${(n / TOTAL_SLIDES) * 100}%`;
  }

  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); goTo(current + 1); }
    if (e.key === 'ArrowLeft') { e.preventDefault(); goTo(current - 1); }
  });

  // Click to advance (left third = back, rest = forward)
  document.addEventListener('click', e => {
    if (e.target.closest('a, button, .qr-frame')) return;
    const x = e.clientX / window.innerWidth;
    goTo(current + (x < 0.33 ? -1 : 1));
  });

  // Touch swipe
  let touchX = 0;
  document.addEventListener('touchstart', e => { touchX = e.touches[0].clientX; });
  document.addEventListener('touchend', e => {
    const dx = e.changedTouches[0].clientX - touchX;
    if (Math.abs(dx) > 50) goTo(current + (dx < 0 ? 1 : -1));
  });

  // â•â•â• SSE â€” live event stream â•â•â•
  function connectSSE() {
    const es = new EventSource(`${BASE}/events`);
    es.onmessage = e => {
      try {
        const d = JSON.parse(e.data);
        count = d.count || count + 1;
        updateCounters();
        // Rate calc
        const now = Date.now();
        rateWindow.push(now);
        rateWindow = rateWindow.filter(t => now - t < 5000);
        const rate = (rateWindow.length / 5).toFixed(1);
        if (parseFloat(rate) > peakRate) peakRate = parseFloat(rate);
        safeSet('liveRate', rate);
        safeSet('livePeak', peakRate.toFixed(1));
        safeSet('archRate', rate);
      } catch (_) {}
    };
    es.onerror = () => { es.close(); setTimeout(connectSSE, 3000); };
  }

  function updateCounters() {
    safeSet('navCount', count);
    safeSet('archCount', count);
    safeSet('bigCount', count);
    safeSet('resultCount', count);
  }

  function safeSet(id, val) {
    const el = $(id);
    if (el) el.textContent = val;
  }

  // â•â•â• TELEMETRY POLL â•â•â•
  async function pollTelemetry() {
    try {
      const r = await fetch(`${BASE}/telemetry`);
      const t = await r.json();
      devices = t.devices || 0;
      safeSet('archDevices', devices);
      safeSet('liveDevices', devices);
      safeSet('liveBattery', t.batteryCount > 0 ? `${t.avgBattery}%` : 'â€”');

      // Network mix
      const nets = Object.entries(t.networks || {});
      if (nets.length) {
        const netIcons = {wifi:'ğŸ“¶','4g':'ğŸ“±','5g':'ğŸ“±',wired:'ğŸ”Œ'};
        safeSet('liveNetworks', nets.map(([k,v]) => `${netIcons[k.toLowerCase()]||'ğŸŒ'} ${k} ${v}`).join('  '));
      }

      // Locales
      const locs = Object.entries(t.locales || {});
      if (locs.length) {
        const flags = {'en-US':'ğŸ‡ºğŸ‡¸','en-GB':'ğŸ‡¬ğŸ‡§',en:'ğŸ‡ºğŸ‡¸',de:'ğŸ‡©ğŸ‡ª',fr:'ğŸ‡«ğŸ‡·',es:'ğŸ‡ªğŸ‡¸',ja:'ğŸ‡¯ğŸ‡µ',ko:'ğŸ‡°ğŸ‡·',zh:'ğŸ‡¨ğŸ‡³',pt:'ğŸ‡§ğŸ‡·',it:'ğŸ‡®ğŸ‡¹'};
        safeSet('liveLocales', locs.map(([k,v]) => `${flags[k]||'ğŸŒ'} ${k} ${v}`).join('  '));
      }
    } catch (_) {}
  }

  // â•â•â• INITIAL STATE â•â•â•
  async function init() {
    try {
      const r = await fetch(`${BASE}/state`);
      const s = await r.json();
      count = s.count || 0;
      updateCounters();
    } catch (_) {}

    // QR code
    try {
      new QRious({
        element: $('qrCanvas'),
        value: `${BASE}/play`,
        size: 200,
        backgroundAlpha: 0,
        foreground: '#151515',
        level: 'M'
      });
    } catch (_) {}

    connectSSE();
    pollTelemetry();
    setInterval(pollTelemetry, 5000);
  }

  init();
})();
</script>
</body>
</html>
